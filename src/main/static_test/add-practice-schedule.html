<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Teacher Account</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="../resources/static/css/base.css">
    <link rel="stylesheet" type="text/css" href="../resources/static/css/header.css">
    <link rel="stylesheet" type="text/css" href="../resources/static/css/category.css">
    <link rel="stylesheet" type="text/css" href="../resources/static/css/add-practice-schedule.css">
</head>

<body>
    <div id="category">
        <div id="category_header">
            <div id="category_header_logo">
                <img src="../resources/static/img/ptit_logo.png" alt="">
            </div>
        </div>
        <div id="category_body">
            <div id="category_body_home">
                <ul class="category-index-container" id="cat_home_box">
                    <li class="index">
                        <a class="index_wrapper" href="/home">
                            <i class="fa-solid fa-tv"></i>
                            <p>Trang chủ</p>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="category_body_practice-schedule">
                <label>LỊCH THỰC HÀNH</label>
                <ul class="category-index-container" id="cat_practice-schedule_box">
                    <li class="index">
                        <a class="index_wrapper" href="">
                            <i class="fa-regular fa-envelope"></i>
                            <p>Toàn bộ yêu cầu</p>
                        </a>
                    </li>
                    <li class="index">
                        <a class="index_wrapper" href="">
                            <i class="fa-regular fa-calendar-minus"></i>
                            <p>Toàn bộ lịch</p>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="category_body_computer-room">
                <label>PHÒNG MÁY</label>
                <ul class="category-index-container" id="cat_practice-schedule_box">
                    <li class="index">
                        <a class="index_wrapper" href="/manager/category/computer-room/add-computer-room">
                            <i class="fa-regular fa-envelope"></i>
                            <p>Thêm phòng máy mới</p>
                        </a>
                    </li>
                    <li class="index">
                        <a class="index_wrapper" href="/manager/category/computer-room/computer-room-list">
                            <i class="fa-regular fa-calendar-minus"></i>
                            <p>Toàn bộ phòng</p>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="category_body_teacher">
                <label>GIẢNG VIÊN</label>
                <ul class="category-index-container" id="cat_practice-schedule_box">
                    <li class="index">
                        <a class="index_wrapper" href="/manager/category/teacher/add-teacher-account">
                            <i class="fa-regular fa-envelope"></i>
                            <p>Thêm tài khoản</p>
                        </a>
                    </li>
                    <li class="index">
                        <a class="index_wrapper" href="/manager/category/teacher/teacher-list">
                            <i class="fa-regular fa-calendar-minus"></i>
                            <p>Danh sách Giảng viên</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="category_footer">
            <ul class="category-index-container">
                <li class="index">
                    <a class="index_wrapper" href="">
                        <i class="fa-regular fa-life-ring"></i>
                        <p>Support</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div id="center-page" id="add-account-page">
        <div class="error-service-message hide" style="display:flex">
            <span>Lỗi gì đó không biết!</span>
            <i id="error-service-message_close-btn" class="fa fa-times-circle" aria-hidden="true"></i>
        </div>
        <header>
            <div id="header_left">
                <div class="header_items" id="toggle-hide-category">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>
            <div id="header_center">
                <p id="category-name"></p>
                <p id="page-description"></p>
            </div>
            <div id="header_right">
                <div class="header_items" id="setting">
                    <i class="fa-solid fa-gear"></i>
                </div>
                <div class="header_items" id="avatar">
                    <a id="avatar_user" href="/home">MN</a>
                </div>
            </div>
        </header>
        <!-- ***********************Starting-coding-here*********************** -->
        <form method="POST" action="/service/v1/manager/update-teacher" modelAttribute="teacher">
            <div class="detail-block">
                <input name="teacherId" type="text" value="${teacherRequest.teacher.teacherId}" hidden />
                <input name="sectionClassId" type="text" value="${teacherRequest.sectionClass.sectionClassId}" hidden />
                <div class="detail-block_description" id="request-info">
                    <i class="fa-regular fa-envelope"></i>
                    <p>CHI TIẾT YÊU CẦU</p>
                </div>
                <div class="data-row" id="teacher-id">
                    <label for="teacher-id">Giảng viên</label>
                    <p>${teacherRequest.teacher.teacherId} - ${teacherRequest.teacher.lastName}
                        ${teacherRequest.teacher.firstName}</p>
                </div>
                <div class="data-row" id="subject-name">
                    <label for="subject-name">Tên môn học</label>
                    <p>${teacherRequest.sectionClass.subject.subjectName}</p>
                </div>
                <div class="data-row" id="grade-id">
                    <label for="grade-id">Lớp mở môn</label>
                    <p>${teacherRequest.sectionClass.grade.gradeId}</p>
                </div>
                <div class="data-row" id="group-from-subject">
                    <label for="group-from-subject">Tổ mà giảng viên dạy</label>
                    <p>${teacherRequest.sectionClass.groupFromSubject}</p>
                </div>
                <div class="data-row" id="request-message-detail">
                    <label for="request-message-detail">Mô tả yêu cầu</label>
                    <p>${teacherRequest.requestMessageDetail}</p>
                </div>
            </div>
            <div id="add-schedule-block">
                <div id="table-tools">
                    <div class="form-input" id="semester">
                        <label for="semester">Học kỳ hiện tại</label>
                        <input type="text" disabled
                        value="Học kỳ ${teacherRequest.sectionClass.semester.semester} - Năm học: ${teacherRequest.sectionClass.semester.rangeOfYear} "/>
                    </div>
                    <div class="form-input" id="list-of-week">
                        <label for="list-of-week">Chọn tuần muốn xem</label>
                        <select name="list-of-week" id="list-of-week">
                        </select>
                    </div>
                </div>
                <table id="subject-schedule">
                    <thead>
                        <tr>
                            <th class="table-description-column-item change-schedule-btn">
                                <span>
                                    <i style="padding-right: 5px;" class="fa-solid fa-arrow-left"></i>Trước
                                </span>
                            </th>
                            <th class="schedule-item" id="2"><span>Thứ 2</span></th>
                            <th class="schedule-item" id="3"><span>Thứ 3</span></th>
                            <th class="schedule-item" id="4"><span>Thứ 4</span></th>
                            <th class="schedule-item" id="5"><span>Thứ 5</span></th>
                            <th class="schedule-item" id="6"><span>Thứ 6</span></th>
                            <th class="schedule-item" id="7"><span>Thứ 7</span></th>
                            <th class="schedule-item" id="8" style="border-color: black;"><span>Chủ nhật</span></th>
                            <th class="table-description-column-item change-schedule-btn">
                                <span>
                                    Sau<i style="padding-left: 5px;" class="fa-solid fa-arrow-right"></i>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        
                    </tbody>
                    <thead>
                        <tr>
                            <th class="table-description-column-item"></th>
                            <th class="schedule-item" style="border-color: black transparent black transparent"></th>
                            <th class="schedule-item"></th>
                            <th class="schedule-item"></th>
                            <th class="schedule-item"></th>
                            <th class="schedule-item"></th>
                            <th class="schedule-item"></th>
                            <th class="schedule-item"></th>
                            <th class="table-description-column-item"></th>
                        </tr>
                    </thead>
                </table>
                <span id="convert-btn">Chuyển đổi</span>
            </div>
            <!-- --------Copy from here-------- -->
            <div id="adjust-schedule-block">
                <table id="ajdust-subject-schedule">
                    <thead>
                        <tr>
                            <th id="firstWeek">Tuần bắt đầu</th>
                            <th id="totalWeek">Tổng tuần</th>
                            <th id="day">Thứ</th>
                            <th id="startingPeriod">Tiết bắt đầu</th>
                            <th id="lastPeriod">Tiết kết thúc</th>
                            <th id="roomId">Phòng thực hành</th>
                            <th id="delete">Xoá</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="firstWeek">2</td>
                            <td class="totalWeek">5</td>
                            <td class="day">3</td>
                            <td class="startingPeriod">1</td>
                            <td class="lastPeriod">4</td>
                            <td class="roomId">
                                <select class="available-room-options" name="roomId">
                                    <option value="2B11">2B11</option>
                                    <option value="2B12">2B12</option>
                                </select>
                            </td>
                            <td class="delete table-row-btn">
                                <button name="deleteBtn" value="${account.accountId}">
                                    <i class="fa-regular fa-trash-can"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="font-size: 1.2rem;" class="firstWeek">...</td>
                            <td style="font-size: 1.2rem;" class="totalWeek">...</td>
                            <td style="font-size: 1.2rem;" class="day">...</td>
                            <td style="font-size: 1.2rem;" class="startingPeriod">...</td>
                            <td style="font-size: 1.2rem;" class="lastPeriod">...</td>
                            <td style="font-size: 1.2rem;" class="roomId">...</td>
                            <td style="font-size: 1.2rem;" class="delete">...</td>
                        </tr>
                    </tbody>
                </table>
                <input type="submit" value="Xác nhận">
            </div>
            <!-- --------Copy the above one-------- -->
        </form>
    </div>
    <!-- ***********************Ending-coding-here*********************** -->
    <script type="application/javascript" src="../resources/static/js/base.js"></script>
    <script type="application/javascript" src="../resources/static/js/header.js"></script>
    <script>
        for(var index = 1; index <= 15; index++) {
            $('tbody').innerHTML += `
                <tr class="period-row" id="${index}">
                    <td class="table-description-column-item">
                        <span class="schedule-data-item">Tiết ${index}</span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="2">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="3">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="4">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="5">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="6">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="7">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="schedule-item blank-schedule" period=${index} day="8">
                        <span class="schedule-data-item"></span>
                    </td>
                    <td class="table-description-column-item">
                        <span class="schedule-data-item"></span>
                    </td>
                </tr>`;
        }
        let nowDate= new Date(2024, 0, 1);
        let startingWeek = 1;
        for (var weekUnit = 0; weekUnit <= 24; weekUnit++) {
            let nowWeek = startingWeek + weekUnit;
            let nowStrDate = `${nowDate.getDate()}/${nowDate.getMonth() + 1}/${nowDate.getFullYear()}`;
            $('select[name="list-of-week"]').innerHTML += `
                <option week="${weekUnit}" startingDate="${nowStrDate}">
                    Tuần ${nowWeek} - Ngày ${nowStrDate}
                </option>
            `;
            nowDate.setDate(nowDate.getDate() + 7);
        }
    </script>
    <script src="../resources/static/js/add-practice-schedule.js"></script>
</body>

</html>